(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{464:function(t,e,n){var content=n(524);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(23).default)("79bfb4e4",content,!0,{sourceMap:!1})},465:function(t,e,n){var content=n(526);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(23).default)("cad14794",content,!0,{sourceMap:!1})},466:function(t,e,n){var content=n(528);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(23).default)("fd3dced2",content,!0,{sourceMap:!1})},467:function(t,e,n){var content=n(530);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(23).default)("7ebce1ce",content,!0,{sourceMap:!1})},468:function(t,e,n){var content=n(532);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(23).default)("a72c1f8a",content,!0,{sourceMap:!1})},523:function(t,e,n){"use strict";var l=n(464);n.n(l).a},524:function(t,e,n){(t.exports=n(22)(!1)).push([t.i,".flight-title[data-v-3261f9fb]{padding:0 15px;border:1px solid #ddd;background:#f6f6f6;height:38px;line-height:38px;color:#666;font-size:12px;margin-bottom:10px}.flight-title>div[data-v-3261f9fb]{text-align:center}",""])},525:function(t,e,n){"use strict";var l=n(465);n.n(l).a},526:function(t,e,n){(t.exports=n(22)(!1)).push([t.i,".flight-item[data-v-207935c2]{border:1px solid #ddd;margin-bottom:10px}.flight-item .flight-info[data-v-207935c2]{padding:15px;cursor:pointer}.flight-item .flight-info>div[data-v-207935c2]:first-child,.flight-item .flight-info>div[data-v-207935c2]:last-child{text-align:center}.flight-item .flight-info-center[data-v-207935c2]{padding:0 30px;text-align:center}.flight-item .flight-info-center .flight-airport strong[data-v-207935c2]{display:block;font-size:24px;font-weight:400}.flight-item .flight-info-center .flight-airport span[data-v-207935c2]{font-size:12px;color:#999}.flight-item .flight-info-center .flight-time span[data-v-207935c2]{display:inline-block;padding:10px 0;border-bottom:1px solid #eee;color:#999}.flight-item .flight-info-right .sell-price[data-v-207935c2]{font-size:24px;color:orange;margin:0 2px}.flight-recommend[data-v-207935c2]{background:#f6f6f6;border-top:1px solid #eee;padding:0 20px}.flight-recommend .flight-sell[data-v-207935c2]{border-bottom:1px solid #eee;padding:10px 0}.flight-recommend .flight-sell[data-v-207935c2]:last-child{border-bottom:none}.flight-recommend .flight-sell .flight-sell-left[data-v-207935c2]{font-size:12px}.flight-recommend .flight-sell .flight-sell-left span[data-v-207935c2]{color:green}.flight-recommend .flight-sell .price[data-v-207935c2]{font-size:20px;color:orange}.flight-recommend .flight-sell .choose-button[data-v-207935c2]{text-align:center;color:#666}.flight-recommend .flight-sell .choose-button button[data-v-207935c2]{display:block;width:100%;margin-bottom:5px}",""])},527:function(t,e,n){"use strict";var l=n(466);n.n(l).a},528:function(t,e,n){(t.exports=n(22)(!1)).push([t.i,".filters[data-v-30984e07]{margin-bottom:20px}.filters-top>div[data-v-30984e07] .el-select{margin-left:10px}.filter-cancel[data-v-30984e07]{margin-top:10px}",""])},529:function(t,e,n){"use strict";var l=n(467);n.n(l).a},530:function(t,e,n){(t.exports=n(22)(!1)).push([t.i,".statement[data-v-69eb8b5b]{border:1px solid #ddd}.statement .statement-list[data-v-69eb8b5b]{padding:10px 0}.statement .statement-list>div[data-v-69eb8b5b]{text-align:center}.statement .statement-list>div i[data-v-69eb8b5b]{display:block;font-size:40px}.statement .statement-list>div span[data-v-69eb8b5b]{font-size:12px}.statement .service-tel[data-v-69eb8b5b]{height:32px;line-height:32px;padding:0 10px;background:#f6f6f6;font-size:14px}.history[data-v-69eb8b5b]{border:1px solid #ddd;padding:10px;margin-top:10px}.history h5[data-v-69eb8b5b]{font-size:16px;font-weight:400;padding-bottom:10px;border-bottom:1px solid #eee}.history .history-item[data-v-69eb8b5b]{padding:10px 0;font-size:14px;border-bottom:1px solid #eee}.history .history-item[data-v-69eb8b5b]:last-child{border:none}.history .history-item .to-from[data-v-69eb8b5b]{margin-bottom:5px}.history .history-item p[data-v-69eb8b5b]{font-size:12px;color:#666}.history .history-item span[data-v-69eb8b5b]{color:#fff;display:block;padding:2px 10px;background:orange;border-radius:4px;font-size:12px;cursor:pointer}",""])},531:function(t,e,n){"use strict";var l=n(468);n.n(l).a},532:function(t,e,n){(t.exports=n(22)(!1)).push([t.i,".contianer[data-v-b75b51f0]{width:1000px;margin:20px auto}.flights-content[data-v-b75b51f0]{width:745px;font-size:14px}.aside[data-v-b75b51f0]{width:240px}",""])},625:function(t,e,n){"use strict";n.r(e);n(85),n(32),n(33),n(17),n(56);var l=n(34),o={},r=(n(523),n(12)),c=Object(r.a)(o,function(){var t=this.$createElement,e=this._self._c||t;return e("el-row",{staticClass:"flight-title"},[e("el-col",{attrs:{span:5}},[this._v("\n        航空信息\n    ")]),this._v(" "),e("el-col",{attrs:{span:14}},[e("el-row",{attrs:{type:"flex",justify:"space-between"}},[e("el-col",{attrs:{span:12}},[this._v("\n                起飞时间\n            ")]),this._v(" "),e("el-col",{attrs:{span:12}},[this._v("\n                到达时间\n            ")])],1)],1),this._v(" "),e("el-col",{attrs:{span:5}},[this._v("\n        价格\n    ")])],1)},[],!1,null,"3261f9fb",null).exports,d=(n(125),{data:function(){return{isShow:!1}},computed:{rankTime:function(){var t=this.data.dep_time.split(":"),e=this.data.arr_time.split(":");+e[0]<+t[0]&&(e[0]+=24);var n=60*+e[0]+1*+e[1]-(60*+t[0]+1*+t[1]),l=Math.floor(n/60),o=n%60;return"".concat(l,"时").concat(o,"分钟")}},methods:{handlechoose:function(t,e){this.$router.push({path:"/air/order",query:{id:t,xid:e}})}},props:{data:{type:Object,default:{}}}}),f=(n(525),Object(r.a)(d,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flight-item"},[n("div",{on:{click:function(e){t.isShow=!t.isShow}}},[n("el-row",{staticClass:"flight-info",attrs:{type:"flex",align:"middle"}},[n("el-col",{attrs:{span:6}},[n("span",[t._v(t._s(t.data.airline_name))]),t._v("\n        "+t._s(t.data.flight_no)+"\n      ")]),t._v(" "),n("el-col",{attrs:{span:12}},[n("el-row",{staticClass:"flight-info-center",attrs:{type:"flex",justify:"space-between"}},[n("el-col",{staticClass:"flight-airport",attrs:{span:8}},[n("strong",[t._v(t._s(t.data.dep_time))]),t._v(" "),n("span",[t._v(t._s(t.data.org_airport_name)+t._s(t.data.org_airport_quay))])]),t._v(" "),n("el-col",{staticClass:"flight-time",attrs:{span:8}},[n("span",[t._v(t._s(t.rankTime))])]),t._v(" "),n("el-col",{staticClass:"flight-airport",attrs:{span:8}},[n("strong",[t._v(t._s(t.data.arr_time))]),t._v(" "),n("span",[t._v(t._s(t.data.dst_airport_name)+t._s(t.data.dst_airport_quay))])])],1)],1),t._v(" "),n("el-col",{staticClass:"flight-info-right",attrs:{span:6}},[t._v("\n        ￥\n        "),n("span",{staticClass:"sell-price"},[t._v(t._s(t.data.base_price/10))]),t._v("起\n      ")])],1)],1),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"flight-recommend"},t._l(t.data.seat_infos,function(e,l){return n("el-row",{key:l,attrs:{type:"flex",justify:"space-between",align:"middle"}},[n("el-col",{attrs:{span:4}},[t._v("低价推荐")]),t._v(" "),n("el-col",{attrs:{span:20}},[n("el-row",{staticClass:"flight-sell",attrs:{type:"flex",justify:"space-between",align:"middle"}},[n("el-col",{staticClass:"flight-sell-left",attrs:{span:16}},[n("span",[t._v(t._s(e.name))]),t._v(" | "+t._s(e.supplierName)+"\n          ")]),t._v(" "),n("el-col",{staticClass:"price",attrs:{span:5}},[t._v("￥"+t._s(e.org_settle_price))]),t._v(" "),n("el-col",{staticClass:"choose-button",attrs:{span:3}},[n("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(n){return t.handlechoose(t.data.id,e.seat_xid)}}},[t._v("选定")]),t._v(" "),n("p",[t._v("剩余："+t._s(e.discount))])],1)],1)],1)],1)}),1)])},[],!1,null,"207935c2",null).exports),h=n(54),v={data:function(){return{airport:"",flightTimes:"",company:"",airSize:"",airplaneSize:[{size:"L",type:"大型客机"},{size:"M",type:"中型客机"},{size:"S",type:"小型客机"}]}},props:{data:{type:Object,default:{}}},methods:{handleAirport:function(t){var e=this.data.flights.filter(function(e){return e.org_airport_name===t});this.$emit("changFilters",e)},handleFlightTimes:function(t){var e=t.split(","),n=Object(h.a)(e,2),l=n[0],o=n[1],r=this.data.flights.filter(function(t){var e=t.dep_time.split(":"),n=Object(h.a)(e,1)[0];return+n>=+l&&+n<+o});this.$emit("changFilters",r)},handleCompany:function(t){var e=this.data.flights.filter(function(e){return e.airline_name===t});this.$emit("changFilters",e)},handleAirSize:function(t){var e=this.data.flights.filter(function(e){return e.plane_size===t});this.$emit("changFilters",e)},handleFiltersCancel:function(){this.airport="",this.flightTimes="",this.company="",this.airSize="",this.$emit("changFilters",this.data.flights)}}},m=(n(527),Object(r.a)(v,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"filters"},[n("el-row",{staticClass:"filters-top",attrs:{type:"flex",justify:"space-between",align:"middle"}},[n("el-col",{attrs:{span:8}},[t._v("\n            单程： \n            "+t._s(t.data.info.departCity)+" - "+t._s(t.data.info.destCity)+"\n            / \n            "+t._s(t.data.info.departDate)+"\n        ")]),t._v(" "),n("el-col",{attrs:{span:4}},[n("el-select",{attrs:{size:"mini",placeholder:"起飞机场"},on:{change:t.handleAirport},model:{value:t.airport,callback:function(e){t.airport=e},expression:"airport"}},t._l(t.data.options.airport,function(t,e){return n("el-option",{key:e,attrs:{label:t,value:t}})}),1)],1),t._v(" "),n("el-col",{attrs:{span:4}},[n("el-select",{attrs:{size:"mini",placeholder:"起飞时间"},on:{change:t.handleFlightTimes},model:{value:t.flightTimes,callback:function(e){t.flightTimes=e},expression:"flightTimes"}},t._l(t.data.options.flightTimes,function(t,e){return n("el-option",{key:e,attrs:{label:t.from+":00 - "+t.to+":00",value:t.from+","+t.to}})}),1)],1),t._v(" "),n("el-col",{attrs:{span:4}},[n("el-select",{attrs:{size:"mini",placeholder:"航空公司"},on:{change:t.handleCompany},model:{value:t.company,callback:function(e){t.company=e},expression:"company"}},t._l(t.data.options.company,function(t,e){return n("el-option",{key:e,attrs:{label:t,value:t}})}),1)],1),t._v(" "),n("el-col",{attrs:{span:4}},[n("el-select",{attrs:{size:"mini",placeholder:"机型"},on:{change:t.handleAirSize},model:{value:t.airSize,callback:function(e){t.airSize=e},expression:"airSize"}},t._l(t.airplaneSize,function(t,e){return n("el-option",{key:e,attrs:{label:t.type,value:t.size}})}),1)],1)],1),t._v(" "),n("div",{staticClass:"filter-cancel"},[t._v("\n        筛选：\n        "),n("el-button",{attrs:{type:"primary",round:"",plain:"",size:"mini"},on:{click:t.handleFiltersCancel}},[t._v("\n            撤销\n\t\t")])],1)],1)},[],!1,null,"30984e07",null).exports),_={data:function(){return{history:[]}},mounted:function(){this.history=JSON.parse(localStorage.getItem("air"))}};n(529);function x(object,t){var e=Object.keys(object);return Object.getOwnPropertySymbols&&e.push.apply(e,Object.getOwnPropertySymbols(object)),t&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable})),e}var y={data:function(){return{ListData:[],FiltersData:{info:{},options:{}},cacheFlightsData:{flights:[],info:{},options:{}},flightsData:{pageIndex:1,pageSize:5,total:10}}},watch:{$route:function(){this.getListData()}},components:{FlightsListHead:c,FlightsItem:f,FlightsFilters:m,FlightsAside:Object(r.a)(_,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"aside"},[n("div",{staticClass:"statement"},[n("el-row",{staticClass:"statement-list",attrs:{type:"flex",justify:"space-between"}},[n("el-col",{attrs:{span:8}},[n("i",{staticClass:"iconfont iconweibiaoti-_huabanfuben",staticStyle:{color:"#409EFF"}}),t._v(" "),n("span",[t._v("航协认证")])]),t._v(" "),n("el-col",{attrs:{span:8}},[n("i",{staticClass:"iconfont iconbaozheng",staticStyle:{color:"green"}}),t._v(" "),n("span",[t._v("出行保证")])]),t._v(" "),n("el-col",{attrs:{span:8}},[n("i",{staticClass:"iconfont icondianhua",staticStyle:{color:"#409EFF"}}),t._v(" "),n("span",[t._v("7x24")])])],1),t._v(" "),n("p",{staticClass:"service-tel"},[t._v("免费客服电话：4006345678转2")])],1),t._v(" "),n("div",{staticClass:"history"},[n("h5",[t._v("历史查询")]),t._v(" "),t._l(t.history,function(e,l){return n("nuxt-link",{key:l,attrs:{to:"/air/flights?departCity="+e.departCity+"&departCode="+e.departCode+"&destCity="+e.destCity+"&destCode="+e.destCode+"&departDate="+e.departDate}},[n("el-row",{staticClass:"history-item",attrs:{type:"flex",justify:"space-between",align:"middle"}},[n("div",{staticClass:"air-info"},[n("div",{staticClass:"to-from"},[t._v(t._s(e.departCity)+" - "+t._s(e.destCity))]),t._v(" "),n("p",[t._v(t._s(e.departDate))])]),t._v(" "),n("span",[t._v("选择")])])],1)})],2)])},[],!1,null,"69eb8b5b",null).exports},mounted:function(){this.getListData()},computed:{NewData:function(){var t=this.flightsData,e=t.pageIndex,n=t.pageSize;return this.ListData.slice((e-1)*n,e*n)}},methods:{changFilters:function(t){this.ListData=t,this.flightsData.total=t.length},getListData:function(){var t=this;this.$axios({url:"/airs",params:this.$route.query}).then(function(e){t.flightsData.total=e.data.total,t.ListData=e.data.flights,t.FiltersData=e.data,t.cacheFlightsData=function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?x(source,!0).forEach(function(e){Object(l.a)(t,e,source[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):x(source).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))})}return t}({},e.data)})},handleSizeChange:function(t){this.flightsData.pageSize=t},handleCurrentChange:function(t){this.flightsData.pageIndex=t}}},C=(n(531),Object(r.a)(y,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"contianer"},[n("el-row",{attrs:{type:"flex",justify:"space-between"}},[n("div",{staticClass:"flights-content"},[n("FlightsFilters",{attrs:{data:t.FiltersData},on:{changFilters:t.changFilters}}),t._v(" "),n("FlightsListHead"),t._v(" "),t._l(t.NewData,function(t,e){return n("FlightsItem",{key:e,attrs:{data:t}})}),t._v(" "),n("el-row",{staticStyle:{"margin-top":"10px"},attrs:{type:"flex",justify:"center"}},[n("el-pagination",{attrs:{"current-page":t.flightsData.pageIndex,"page-sizes":[5,10,15,20],"page-size":t.flightsData.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.flightsData.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],2),t._v(" "),n("div",{staticClass:"aside"},[n("FlightsAside")],1)])],1)},[],!1,null,"b75b51f0",null));e.default=C.exports}}]);