(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{460:function(t,e,n){var content=n(516);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(23).default)("e722e322",content,!0,{sourceMap:!1})},461:function(t,e,n){var content=n(518);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(23).default)("ad9003be",content,!0,{sourceMap:!1})},462:function(t,e,n){var content=n(520);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(23).default)("2598888a",content,!0,{sourceMap:!1})},463:function(t,e,n){var content=n(522);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(23).default)("6db4530e",content,!0,{sourceMap:!1})},515:function(t,e,n){"use strict";var o=n(460);n.n(o).a},516:function(t,e,n){(t.exports=n(22)(!1)).push([t.i,".imgs[data-v-d3df1844]{margin-top:15px}.imgs img[data-v-d3df1844]{width:250px;height:150px}.citys[data-v-d3df1844]{width:250px;margin-top:20px;padding-bottom:15px;border-bottom:1px solid #ccc}.navs[data-v-d3df1844]{margin:15px 0;position:relative;top:0;left:0}.navs .hotCity[data-v-d3df1844]{border-top:1px solid #ccc;border-left:1px solid #ccc;border-right:1px solid #ccc;border-collapse:collapse;width:250px;height:40px;line-height:40px}.navs .hotCity span[data-v-d3df1844]{margin-left:15px;font-size:14px}.navs .hotCity[data-v-d3df1844]:last-child{border-bottom:1px solid #ccc}.navs .hotCity i[data-v-d3df1844]{position:absolute;left:230px;line-height:40px}.navs .hotCity[data-v-d3df1844]:hover{color:orange;border-right:none}.navs .rows[data-v-d3df1844]{position:absolute;left:250px;width:350px;height:36px;line-height:36px;z-index:9}.navs .rows .back[data-v-d3df1844]{background-color:#fff}.navs .rows div[data-v-d3df1844]{border-right:1px solid #ccc}.navs .rows div[data-v-d3df1844]:first-child{border-top:1px solid #ccc}.navs .rows div[data-v-d3df1844]:last-child{border-bottom:1px solid #ccc;border-left:1px solid #ccc}.navs .rows .num[data-v-d3df1844]{color:orange;font-size:25px;margin-left:15px;font-style:italic}.navs .rows .oneCity[data-v-d3df1844]{color:orange}.navs .rows .oneCity[data-v-d3df1844]:hover{text-decoration:underline}.navs .rows .twoCity[data-v-d3df1844]{color:#999;font-size:14px}.navs .rows .twoCity[data-v-d3df1844]:hover{text-decoration:underline}.navs .rows span[data-v-d3df1844]{cursor:pointer}",""])},517:function(t,e,n){"use strict";var o=n(461);n.n(o).a},518:function(t,e,n){(t.exports=n(22)(!1)).push([t.i,"header[data-v-5d704c01]{margin-top:15px}header .search[data-v-5d704c01]{font-size:16px}header .search[data-v-5d704c01] .el-icon-search{font-size:25px;color:orange;font-weight:600}header .search[data-v-5d704c01] .el-input-group__append{background-color:#fff;border-radius:0;border:none}header .search[data-v-5d704c01] .el-input__inner{border:none}header .search .input-with-select[data-v-5d704c01]{border:3px solid orange;border-radius:0}header .search[data-v-5d704c01] ::-webkit-input-placeholder{color:#757575;letter-spacing:2px}header .recommend[data-v-5d704c01]{width:150px;font-size:12px;margin:10px 0;color:#757575}header .recommend a[data-v-5d704c01]:hover{color:orange;text-decoration:underline}header .strategy[data-v-5d704c01]{border-bottom:.5px solid #e0dfdf}header .strategy .strategy-text[data-v-5d704c01]{width:73px;line-height:40.4px;font-weight:400;font-size:18px;color:orange;padding-bottom:10px;border-bottom:2px solid orange}",""])},519:function(t,e,n){"use strict";var o=n(462);n.n(o).a},520:function(t,e,n){(t.exports=n(22)(!1)).push([t.i,"main .title[data-v-a98b654e]{font-size:18px;padding:20px 0 15px}main .title[data-v-a98b654e]:hover{color:orange}main .description[data-v-a98b654e]{height:60px;overflow:hidden;margin-bottom:15px;font-size:14px;color:#777}main img[data-v-a98b654e]{width:100%;height:165px;-o-object-fit:cover;object-fit:cover}main .info[data-v-a98b654e]{font-size:12px;color:#777}main .info .avatar[data-v-a98b654e]{width:25px;height:25px;vertical-align:middle}main .info a[data-v-a98b654e]{color:orange}main .info .like[data-v-a98b654e]{color:orange;font-size:16px}main .one[data-v-a98b654e],main .three[data-v-a98b654e]{display:block;padding-bottom:10px;border-bottom:.5px solid #e0dfdf}main .one[data-v-a98b654e]{margin-top:15px}.pagination[data-v-a98b654e]{margin:15px 0}",""])},521:function(t,e,n){"use strict";var o=n(463);n.n(o).a},522:function(t,e,n){(t.exports=n(22)(!1)).push([t.i,".post_content[data-v-358c933f]{width:1000px;margin:0 auto}",""])},626:function(t,e,n){"use strict";n.r(e);var o={data:function(){return{isShow:!1,cityList:[],hotList:[],arr:[]}},methods:{hovers:function(t){this.isShow=!0,this.hotList=this.arr[t]},leave:function(){this.isShow=!1}},mounted:function(){var t=this;this.$axios({url:"/posts/cities"}).then(function(e){t.cityList=e.data.data,t.cityList.forEach(function(e){t.arr.push(e.children)})})}},r=(n(515),n(12)),aside=Object(r.a)(o,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"navs"},[n("div",{on:{mouseleave:t.leave}},[n("el-row",{attrs:{type:"flex",justify:"space-between"}},[n("el-col",{attrs:{span:24}},t._l(t.cityList,function(e,o){return n("div",{key:o,staticClass:"hotCity",on:{mouseenter:function(e){return t.hovers(o)}}},[n("span",[t._v(t._s(e.type))]),t._v(" "),n("i",{staticClass:"el-icon-arrow-right"})])}),0),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"rows"},t._l(t.hotList,function(e,o){return n("div",{key:o,staticClass:"back"},[n("nuxt-link",{attrs:{to:"/post?city="+e.city}},[n("span",{staticClass:"num"},[t._v(t._s(o+1))]),t._v("  \n            "),n("span",{staticClass:"oneCity"},[t._v(t._s(e.city))]),t._v("  \n            "),n("span",{staticClass:"twoCity"},[t._v(t._s(e.desc))])])],1)}),0)],1)],1),t._v(" "),t._m(0),t._v(" "),n("div",{staticClass:"imgs"},[n("nuxt-link",{attrs:{to:"#"}},[n("img",{attrs:{src:"http://157.122.54.189:9093/images/pic_sea.jpeg",alt:""}})])],1)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"citys"},[e("span",[this._v("推荐城市")])])}],!1,null,"d3df1844",null).exports,c={data:function(){return{searchText:"",recommendList:["广州","上海","北京"]}},methods:{searchByCity:function(){this.$emit("searchByCity",this.searchText)},getDataByCity:function(t){this.$emit("getDataByCity",t)}}},l=(n(517),{data:function(){return{articleData:[],currentPage:1,total:1,start:3,limit:3,city:""}},components:{Head:Object(r.a)(c,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("header",[n("div",{staticClass:"search"},[n("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入想去的地方，比如'广州'"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchByCity(e)}},model:{value:t.searchText,callback:function(e){t.searchText=e},expression:"searchText"}},[n("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.searchByCity},slot:"append"})],1)],1),t._v(" "),n("el-row",{staticClass:"recommend",attrs:{type:"flex",gutter:10,justify:"space-between"}},[n("el-col",[t._v("推荐:")]),t._v(" "),t._l(t.recommendList,function(e,o){return n("el-col",{key:o},[n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(n){return t.getDataByCity(e)}}},[t._v(t._s(e))])])})],2),t._v(" "),n("el-row",{staticClass:"strategy",attrs:{type:"flex",justify:"space-between"}},[n("el-col",{staticClass:"strategy-text",attrs:{span:4}},[t._v("推荐攻略")]),t._v(" "),n("el-col",{staticStyle:{flex:"1"}}),t._v(" "),n("el-col",{staticClass:"writeBtn",attrs:{span:4}},[n("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(e){return t.$router.push("/post/create")}}},[n("nuxt-link",{attrs:{to:"/post/create"}},[t._v("写游记")])],1)],1)],1)],1)])},[],!1,null,"5d704c01",null).exports},mounted:function(){console.log("%c%s","color: #1ddaac;","\n    Author:Gauhar Chan    旅游攻略内容展示区\n⊂_ヽ\n　 ＼＼  Λ＿Λ\n　　 ＼( 'ㅅ' )\n　　　 >　⌒ヽ\n　　　/ 　 へ＼\n　　 /　　/　＼＼\n　　 ﾚ　ノ　　 ヽ_つ\n　　/　/\n　 /　/|"),this.init(0,3,this.$route.query.city)},watch:{$route:function(t,e){var n=t.query.city;this.initByCity(n)}},methods:{searchByCity:function(t){t.trim()?this.initByCity(t):this.$message.warning("请输入成名后再搜索!")},getDataByCity:function(t){this.initByCity(t)},initByCity:function(t){this.city=t,this.currentPage=1,this.start=(this.currentPage-1)*this.limit,this.init(this.start,this.limit,this.city)},init:function(t,e,n){var o=this;this.$axios({baseURL:"http://157.122.54.189:9095",url:"/posts",params:{_start:t,_limit:e,city:n}}).then(function(t){0==t.data.data.length&&o.$message.warning("该城市还没开通攻略，请确认输入的城市名无误！"),o.articleData=t.data.data,o.total=t.data.total})},changSize:function(){this.start=(this.currentPage-1)*this.limit,this.city?this.init(this.start,this.limit,this.city):this.init(this.start,this.limit)},handleSizeChange:function(t){this.currentPage=1,this.limit=t,this.changSize()},handleCurrentChange:function(t){this.currentPage=t,this.changSize()}}}),d=(n(519),{data:function(){return{city:""}},components:{Aside:aside,Main:Object(r.a)(l,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Head",{on:{searchByCity:t.searchByCity,getDataByCity:t.getDataByCity}}),t._v(" "),t._l(t.articleData,function(e,o){return n("main",{key:o},[e.images.length>1?n("nuxt-link",{staticClass:"three",attrs:{to:"/post/detail?id="+e.id}},[n("div",{staticClass:"title"},[t._v(t._s(e.title))]),t._v(" "),n("p",{staticClass:"description"},[t._v(t._s(e.summary))]),t._v(" "),n("el-row",{staticClass:"images",attrs:{type:"flex"}},t._l(e.images,function(image,t){return n("el-col",{key:t,attrs:{span:24/e.images.length}},[n("img",{attrs:{src:image,alt:""}})])}),1),t._v(" "),n("el-row",{staticClass:"info",attrs:{type:"flex",justify:"space-between"}},[n("el-col",{attrs:{span:8}},[n("i",{staticClass:"el-icon-location-outline"}),t._v("\n          "+t._s(e.cityName)+"  by\n          "),n("span",[n("img",{staticClass:"avatar",attrs:{src:"http://157.122.54.189:9095"+e.account.defaultAvatar,alt:""}}),t._v("\n            "+t._s(e.account.nickname)+"\n          ")]),t._v(" "),n("i",{staticClass:"el-icon-view"}),t._v("\n          "+t._s(e.watch)+"\n        ")]),t._v(" "),n("el-col",{attrs:{span:14}}),t._v(" "),n("el-col",{staticClass:"like",attrs:{span:2}},[t._v(t._s(e.like)+"赞")])],1)],1):n("nuxt-link",{staticClass:"one",attrs:{to:"/post/detail?id="+e.id}},[n("el-row",{attrs:{type:"flex"}},[n("el-col",{attrs:{span:8}},[n("img",{attrs:{src:e.images,alt:""}})]),t._v(" "),n("el-col",{attrs:{span:1}}),t._v(" "),n("el-col",{attrs:{span:15}},[n("div",{staticClass:"title"},[t._v(t._s(e.title))]),t._v(" "),n("p",{staticClass:"description"},[t._v(t._s(e.summary))]),t._v(" "),n("el-row",{staticClass:"info",attrs:{type:"flex",justify:"space-between"}},[n("el-col",{attrs:{span:14}},[n("i",{staticClass:"el-icon-location-outline"}),t._v("\n              "+t._s(e.cityName)+"  by\n              "),n("span",[n("img",{staticClass:"avatar",attrs:{src:"http://157.122.54.189:9095"+e.account.defaultAvatar,alt:""}}),t._v("\n                "+t._s(e.account.nickname)+"\n              ")]),t._v(" "),n("i",{staticClass:"el-icon-view"}),t._v("\n              "+t._s(e.watch)+"\n            ")]),t._v(" "),n("el-col",{attrs:{span:7}}),t._v(" "),n("el-col",{staticClass:"like",attrs:{span:3}},[t._v(t._s(e.like)+"赞")])],1)],1)],1)],1)],1)}),t._v(" "),n("el-pagination",{staticClass:"pagination",attrs:{"current-page":t.currentPage,"page-sizes":[3,5,10,15],"page-size":100,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],2)},[],!1,null,"a98b654e",null).exports}}),h=(n(521),Object(r.a)(d,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"post"},[e("el-row",{staticClass:"post_content",attrs:{type:"flex",justify:"space-between"}},[e("el-col",{staticClass:"menus-wrapper",attrs:{span:7}},[e("Aside")],1),this._v(" "),e("el-col",{staticClass:"post-wrapper",attrs:{span:17}},[e("Main")],1)],1)],1)},[],!1,null,"358c933f",null));e.default=h.exports}}]);